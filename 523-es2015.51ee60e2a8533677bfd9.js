(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[523],{49523:function(t,e,i){"use strict";i.r(e),i.d(e,{GaugesModule:function(){return l}});var n=i(38583),a=i(99763),g=i(37716);const s={arc:"#EFF0F4",needle:"#ED2930",markings:"#8E8E8E",readings:"#49595e"};class r{validateRadius(t){return isNaN(t)||t<0?100:t}validateRange(t,e){let i={start:t,end:e};return(isNaN(t)||e<0||isNaN(e)||e<0||t>e)&&(i={start:0,end:100}),i}validateArc(t,e){let i={start:t,end:e};return(isNaN(t)||e<0||isNaN(e)||e<0||t>=e)&&(i={start:225,end:135}),i}validateMajorMarkings(t,e,i){let n=[];if(i&&Array.isArray(i)&&i.length)n=i.filter(i=>!isNaN(i)&&i>=t&&i<=e);else{const i=(e-t)/6;let a=i;for(n=[t];a<e;)n.push(Math.round(a)),a+=i;n.push(e)}return n=[...new Set(n)],n}validateGaugeReadings(t,e,i){let n=[];if(i&&Array.isArray(i)&&i.length)n=i.filter(i=>!isNaN(i)&&i>=t&&i<=e);else{const i=(e-t)/6;let a=i;for(n=[t];a<e;)n.push(Math.round(a)),a+=i;n.push(e)}return n=[...new Set(n)],n}validateHighlightOptions(t,e,i){let n={arcHighlight:null,valueHighlight:null};return t.arcHighlight&&Array.isArray(t.arcHighlight)&&(n.arcHighlight=t.arcHighlight.filter(t=>this.validateArcHighlight(t,e,i))),t.valueHighlight&&Array.isArray(t.valueHighlight)&&(n.valueHighlight=t.valueHighlight.filter(t=>this.validateValueHighlight(t,e,i))),n}validateArcHighlight(t,e,i){let n=!1;return isNaN(t.rangeMin)||isNaN(t.rangeMax)||t.rangeMin<e||t.rangeMax>i||isNaN(t.radiusOuter)||isNaN(t.radiusInner)||t.radiusOuter<t.radiusInner?n=!0:t.color||"string"==typeof t.color||(n=!0),!n}validateValueHighlight(t,e,i){let n=!1;return isNaN(t.valueMin)||isNaN(t.valueMax)||t.valueMin<e||t.valueMax>i||!t.radius||isNaN(t.radius)?n=!0:t.color||"string"==typeof t.color||(n=!0),!n}validateColorCodes(t){const e=s;return Object.keys(e).forEach(i=>{e[i]=t&&t[i]?t[i]:e[i]}),e}}let o=(()=>{class t{constructor(t,e){this.el=t,this.validator=e}ngOnInit(){}ngOnChanges(t){t.gaugeValue&&!t.gaugeValue.firstChange&&this.rotateNeedle(),t.gaugeOptions&&(this.validateInput(),this.initialise())}validateInput(){return new Promise(t=>{this.gaugeOptions.gaugeClassName=this.gaugeOptions.gaugeClassName?this.gaugeOptions.gaugeClassName.toString():"",this.gaugeOptions.gaugeRadius=this.validator.validateRadius(this.gaugeOptions.gaugeRadius);const e=this.validator.validateRange(this.gaugeOptions.gaugeRangeStart,this.gaugeOptions.gaugeRangeEnd);this.gaugeOptions.gaugeRangeStart=e.start,this.gaugeOptions.gaugeRangeEnd=e.end;const i=this.validator.validateArc(this.gaugeOptions.arcStartAngle,this.gaugeOptions.arcEndAngle);this.gaugeOptions.arcStartAngle=i.start,this.gaugeOptions.arcEndAngle=i.end,this.gaugeOptions.markingMajorDivisions=this.validator.validateMajorMarkings(this.gaugeOptions.gaugeRangeStart,this.gaugeOptions.gaugeRangeEnd,this.gaugeOptions.markingMajorDivisions),this.gaugeOptions.gaugeReadings=this.validator.validateMajorMarkings(this.gaugeOptions.gaugeRangeStart,this.gaugeOptions.gaugeRangeEnd,this.gaugeOptions.gaugeReadings),this.gaugeOptions.colorCodes=this.validator.validateColorCodes(this.gaugeOptions.colorCodes),this.gaugeOptions.highlightOptions=this.gaugeOptions.highlightOptions?this.validator.validateHighlightOptions(this.gaugeOptions.highlightOptions,this.gaugeOptions.gaugeRangeStart,this.gaugeOptions.gaugeRangeEnd):null,t(1)})}initialise(){this.centerX=this.el.nativeElement.offsetWidth/2,this.centerY=this.el.nativeElement.offsetHeight/2,this.gauge=this.el.nativeElement.querySelector(".compass"),this.needle=this.el.nativeElement.querySelector(".needle"),this.gaugeConfigurations={markingOuterRadius:this.gaugeOptions.gaugeRadius-10,minorDivisionInnerRadius:this.gaugeOptions.gaugeRadius-13,majorDivisionInnerRadius:this.gaugeOptions.gaugeRadius-22,markingTextRadius:this.gaugeOptions.gaugeRadius-30,minorDivisions:5},this.needle.setAttribute("src",function(t="#000000"){let e=encodeURIComponent(t);return`data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='16.721px' height='93.834px' viewBox='0 0 16.721 93.834' enable-background='new 0 0 16.721 93.834' xml:space='preserve'%3E%3Cg%3E%3Cg%3E%3Cg%3E%3Cpath fill='${e}' d='M13.886,84.243L2.83,83.875c0,0,3.648-70.77,3.956-74.981C7.104,4.562,7.832,0,8.528,0 c0.695,0,1.752,4.268,2.053,8.894C10.883,13.521,13.886,84.243,13.886,84.243z'/%3E%3Cpath fill='${e}' d='M16.721,85.475c0,4.615-3.743,8.359-8.36,8.359S0,90.09,0,85.475c0-4.62,3.743-8.363,8.36-8.363 S16.721,80.855,16.721,85.475z'/%3E%3Ccircle fill='%23EEEEEE' cx='8.426' cy='85.471' r='2.691'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E`}(this.gaugeOptions.colorCodes.needle)),this.needleRotation(this.gaugeOptions.arcStartAngle),this.drawArc(this.gaugeOptions.arcStartAngle-10,this.gaugeOptions.arcEndAngle+10,this.gaugeOptions.colorCodes.arc,"1"),this.drawMarkings(),this.rotateNeedle()}drawMarkings(){this.highlightRanges(),this.drawMinorDivisions(),this.drawMajorDivisions(),this.writeGaugeReadings()}drawMinorDivisions(){const t=360-this.gaugeOptions.arcStartAngle+this.gaugeOptions.arcEndAngle,e=360/(this.gaugeOptions.markingMajorDivisions.length*this.gaugeConfigurations.minorDivisions);let i=e,n=this.gaugeOptions.arcStartAngle+e;for(;i<t;){const t=(n-90)*Math.PI/180,a={outerX:this.centerX+this.gaugeConfigurations.markingOuterRadius*Math.cos(t),outerY:this.centerY+this.gaugeConfigurations.markingOuterRadius*Math.sin(t),innerX:this.centerX+this.gaugeConfigurations.minorDivisionInnerRadius*Math.cos(t),innerY:this.centerY+this.gaugeConfigurations.minorDivisionInnerRadius*Math.sin(t)};this.drawLine(a,"1px",this.gaugeOptions.colorCodes.markings),n+=e,i+=e}}drawMajorDivisions(){const t=360-this.gaugeOptions.arcStartAngle+this.gaugeOptions.arcEndAngle,e=this.gaugeOptions.gaugeRangeEnd-this.gaugeOptions.gaugeRangeStart;for(const i of this.gaugeOptions.markingMajorDivisions){const n=(this.gaugeOptions.arcStartAngle+t/e*(i-this.gaugeOptions.gaugeRangeStart)-90)*Math.PI/180,a={outerX:this.centerX+this.gaugeConfigurations.markingOuterRadius*Math.cos(n),outerY:this.centerY+this.gaugeConfigurations.markingOuterRadius*Math.sin(n),innerX:this.centerX+this.gaugeConfigurations.majorDivisionInnerRadius*Math.cos(n),innerY:this.centerY+this.gaugeConfigurations.majorDivisionInnerRadius*Math.sin(n)};this.drawLine(a,"2px",this.gaugeOptions.colorCodes.markings)}}drawLine(t,e,i){const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.style.strokeWidth=e,this.gauge.appendChild(n),n.setAttribute("x1",""+t.innerX),n.setAttribute("y1",""+t.innerY),n.setAttribute("x2",""+t.outerX),n.setAttribute("y2",""+t.outerY),n.style.stroke=i}writeGaugeReadings(){const t=360-this.gaugeOptions.arcStartAngle+this.gaugeOptions.arcEndAngle,e=this.gaugeOptions.gaugeRangeEnd-this.gaugeOptions.gaugeRangeStart;for(const i of this.gaugeOptions.gaugeReadings){let n=".5rem",a=-5;const g=2;window.innerWidth>=1920&&(n=".4rem");const s=(this.gaugeOptions.arcStartAngle+t/e*(i-this.gaugeOptions.gaugeRangeStart)-90)*Math.PI/180,r=this.centerX+this.gaugeConfigurations.markingTextRadius*Math.cos(s)+a,o=this.centerY+this.gaugeConfigurations.markingTextRadius*Math.sin(s)+g,u=document.createElementNS("http://www.w3.org/2000/svg","text");u.setAttributeNS(null,"x",""+r),u.setAttributeNS(null,"y",""+o),u.setAttributeNS(null,"font-size",n),u.setAttributeNS(null,"font-weight","bold"),u.setAttributeNS(null,"fill",this.gaugeOptions.colorCodes.readings);const h=document.createTextNode(""+i);u.appendChild(h),this.gauge.appendChild(u)}}rotateNeedle(){this.gaugeValue=this.gaugeValue?this.gaugeValue>this.gaugeOptions.gaugeRangeEnd?this.gaugeOptions.gaugeRangeEnd:this.gaugeValue<this.gaugeOptions.gaugeRangeStart?this.gaugeOptions.gaugeRangeStart:this.gaugeValue:this.gaugeOptions.gaugeRangeStart;const t=(360-this.gaugeOptions.arcStartAngle+this.gaugeOptions.arcEndAngle)/(this.gaugeOptions.gaugeRangeEnd-this.gaugeOptions.gaugeRangeStart)*(this.gaugeValue-this.gaugeOptions.gaugeRangeStart);this.needleRotation(this.gaugeOptions.arcStartAngle+t>360?this.gaugeOptions.arcStartAngle+t-360:this.gaugeOptions.arcStartAngle+t)}coordinateOnCircle(t,e,i,n){const a=(n-90)*Math.PI/180;return{x:t+i*Math.cos(a),y:e+i*Math.sin(a)}}drawArc(t,e,i,n="1"){const a=this.coordinateOnCircle(this.centerX,this.centerY,this.gaugeOptions.gaugeRadius,t),g=this.coordinateOnCircle(this.centerX,this.centerY,this.gaugeOptions.gaugeRadius,e),s=document.createElementNS("http://www.w3.org/2000/svg","path");let r="M"+a.x+" "+a.y;r+=" A"+this.gaugeOptions.gaugeRadius,r+=" "+this.gaugeOptions.gaugeRadius,r+=" 0 "+n+" 1",r+=" "+g.x+" "+g.y,s.setAttribute("stroke",i),s.setAttribute("stroke-width","8px"),s.setAttribute("fill","none"),s.setAttribute("d",r),this.gauge.appendChild(s)}highlightRanges(){this.gaugeOptions.highlightOptions&&(this.gaugeOptions.highlightOptions.arcHighlight&&Array.isArray(this.gaugeOptions.highlightOptions.arcHighlight)&&this.gaugeOptions.highlightOptions.arcHighlight.length&&this.arcHighlight(),this.gaugeOptions.highlightOptions.valueHighlight&&Array.isArray(this.gaugeOptions.highlightOptions.valueHighlight)&&this.gaugeOptions.highlightOptions.valueHighlight.length&&this.valueHighlight())}arcHighlight(){for(const t of this.gaugeOptions.highlightOptions.arcHighlight){const e=document.createElementNS("http://www.w3.org/2000/svg","path"),i=360-this.gaugeOptions.arcStartAngle+this.gaugeOptions.arcEndAngle,n=this.gaugeOptions.gaugeRangeEnd-this.gaugeOptions.gaugeRangeStart,a=this.gaugeOptions.arcStartAngle+i/n*(t.rangeMin-this.gaugeOptions.gaugeRangeStart),g=this.gaugeOptions.arcStartAngle+i/n*(t.rangeMax-this.gaugeOptions.gaugeRangeStart),s=this.coordinateOnCircle(this.centerX,this.centerY,t.radiusInner,a),r=this.coordinateOnCircle(this.centerX,this.centerY,t.radiusOuter,a),o=this.coordinateOnCircle(this.centerX,this.centerY,t.radiusInner,g),u=this.coordinateOnCircle(this.centerX,this.centerY,t.radiusOuter,g);let h="M"+s.x+" "+s.y;h+="L"+r.x+" "+r.y,h+="A"+t.radiusOuter+" "+t.radiusOuter+" 0 0 1",h+=" "+u.x+" "+u.y,h+=" L"+o.x+" "+o.y,h+="A"+t.radiusInner+" "+t.radiusInner+" 0 0 0",h+=" "+s.x+" "+s.y,h+=" Z",e.setAttribute("fill",t.color),e.setAttribute("d",h),this.gauge.appendChild(e)}}valueHighlight(){for(const t of this.gaugeOptions.highlightOptions.valueHighlight){const e=document.createElementNS("http://www.w3.org/2000/svg","path"),i=360-this.gaugeOptions.arcStartAngle+this.gaugeOptions.arcEndAngle,n=this.gaugeOptions.gaugeRangeEnd-this.gaugeOptions.gaugeRangeStart,a=this.gaugeOptions.arcStartAngle+i/n*(t.valueMax-this.gaugeOptions.gaugeRangeStart),g=this.coordinateOnCircle(this.centerX,this.centerY,t.radius,this.gaugeOptions.arcStartAngle+i/n*(t.valueMin-this.gaugeOptions.gaugeRangeStart)),s=this.coordinateOnCircle(this.centerX,this.centerY,t.radius,a);let r="M"+this.centerX+" "+this.centerY;r+=" L"+g.x+" "+g.y,r+=" A"+t.radius+" "+t.radius+" 0 0 1",r+=" "+s.x+" "+s.y,r+=" Z",e.setAttribute("fill",t.color),e.setAttribute("d",r),this.gauge.appendChild(e)}}needleRotation(t){t>this.gaugeOptions.arcStartAngle?(this.needle.style.webkitTransform="rotate("+t+"deg)",this.needle.style.msTransform="rotate("+t+"deg)",this.needle.style.transform="rotate("+t+"deg)"):(this.needle.style.webkitTransform="rotate(0deg) rotate("+t+"deg)",this.needle.style.msTransform="rotate(0deg) rotate("+t+"deg)",this.needle.style.transform="rotate(0deg) rotate("+t+"deg)")}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(g.SBq),g.Y36(r))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-speedometer"]],inputs:{gaugeOptions:"gaugeOptions",gaugeValue:"gaugeValue"},features:[g._Bn([r]),g.TTD],decls:7,vars:1,consts:[[1,"speedometer","gauge-container"],[1,"gauge-wrapper"],[1,"compass"],["alt","needle",1,"needle"],[1,"gauge-reading"],[1,"reading-label"]],template:function(t,e){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.O4$(),g._UZ(2,"svg",2),g.kcU(),g._UZ(3,"img",3),g.qZA(),g.TgZ(4,"div",4),g.TgZ(5,"span",5),g._uU(6),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.xp6(6),g.Oqu(e.gaugeValue))},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}[_nghost-%COMP%]   .speedometer.gauge-container[_ngcontent-%COMP%]{background:transparent;width:100%;height:100%;display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .speedometer.gauge-container[_ngcontent-%COMP%]   .gauge-wrapper[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center;position:relative}[_nghost-%COMP%]   .speedometer.gauge-container[_ngcontent-%COMP%]   .gauge-wrapper[_ngcontent-%COMP%]   .compass[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%}[_nghost-%COMP%]   .speedometer.gauge-container[_ngcontent-%COMP%]   .gauge-wrapper[_ngcontent-%COMP%]   .needle[_ngcontent-%COMP%]{position:absolute;bottom:45%;height:80px;transform:rotate(225deg);transform-origin:bottom center;transition:transform 1s}[_nghost-%COMP%]   .speedometer.gauge-container[_ngcontent-%COMP%]   .gauge-reading[_ngcontent-%COMP%]   .reading-label[_ngcontent-%COMP%]{color:#fff}"]}),t})();const u=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){this.setupSpeedometer()}setupSpeedometer(){this.speedometerOptions={gaugeRadius:100,gaugeRangeStart:0,gaugeRangeEnd:140,markingMajorDivisions:[0,20,40,60,80,100,120,140],gaugeReadings:[0,20,40,60,80,100,120,140],colorCodes:{arc:"#D9D9E3",needle:"#ED2930",markings:"#D9D9E3",readings:"#D9D9E3"},highlightOptions:{arcHighlight:[{rangeMin:0,rangeMax:50,radiusOuter:55,radiusInner:45,color:"#67C043"},{rangeMin:50,rangeMax:90,radiusOuter:55,radiusInner:45,color:"#F3DE10"},{rangeMin:90,rangeMax:140,radiusOuter:55,radiusInner:45,color:"#F54752"}]}};let t=0;const e=[0,35,25,50,30,15,65];setInterval(()=>{this.speedometerValue=Math.round(140*Math.random()+0),t=t<e.length-1?t+1:0},3e3)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["ngx-gauges"]],decls:26,vars:2,consts:[[1,"row","gauges-container"],[1,"col-12"],[1,"row"],[1,"card","gauge-parent"],[1,"col-md-3","col-sm-12"],[1,"speedometer"],[3,"gaugeOptions","gaugeValue"],[1,"col-md-9","col-sm-12","d-flex","flex-column","justify-content-center","info-text"],[1,"col-md-12","col-sm-12","d-flex","flex-column","justify-content-center"],[1,"info-text"]],template:function(t,e){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h4"),g._uU(3,"Angular SVG Gauges"),g.qZA(),g.qZA(),g.TgZ(4,"div",1),g.TgZ(5,"div",2),g._UZ(6,"div",1),g.TgZ(7,"div",1),g.TgZ(8,"div",3),g.TgZ(9,"div",2),g.TgZ(10,"div",4),g.TgZ(11,"div",5),g._UZ(12,"app-speedometer",6),g.qZA(),g.qZA(),g.TgZ(13,"div",7),g.TgZ(14,"h4"),g._uU(15,"Speedometer"),g.qZA(),g.TgZ(16,"p"),g._uU(17," This speedometer is a highly configurable gauge. A developer can easily integrate this gauge even without much knowledge in angular. It is possible to configure (almost) everything for this gauge, including the gauge range, gauge markings, colors of readings, markings, needle etc. The inner indicator arcs are also configurable and removable "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(18,"div",3),g.TgZ(19,"div",2),g.TgZ(20,"div",8),g.TgZ(21,"div",9),g.TgZ(22,"h4"),g._uU(23,"More gauges to come"),g.qZA(),g.TgZ(24,"p"),g._uU(25," There are many more gauges like thermometer, compass, cross needle etc. to follow the speedometer. They will all be available as an npm package shortly. "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.xp6(12),g.Q6J("gaugeOptions",e.speedometerOptions)("gaugeValue",e.speedometerValue))},directives:[o],styles:[".gauges-container[_ngcontent-%COMP%]   .gauge-parent[_ngcontent-%COMP%]{background-color:#2f2f2f;margin:10px 0}.gauges-container[_ngcontent-%COMP%]   .gauge-parent[_ngcontent-%COMP%]   .speedometer[_ngcontent-%COMP%]{background:transparent;width:250px;height:250px;padding:10px 0;margin-left:10%}.gauges-container[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{padding:20px;align-items:flex-start}.gauges-container[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .gauges-container[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}@media screen and (max-width:767px){.gauges-container[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{align-items:center}.gauges-container[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center}.gauges-container[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify}}"]}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[a.Bz.forChild(u)],a.Bz]}),t})(),l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[n.ez,h]]}),t})()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{DQMM:function(e,t,a){"use strict";a.r(t),a.d(t,"LoginModule",function(){return R});var i=a("ofXK"),s=a("tyNb"),r=a("3Pt+"),n=a("DFWg"),o=a("SqtC"),c=a("e8pF"),l=a("xauc"),u=a("ajRT"),f=a("fXoL"),p=a("1kSV"),b=a("sYmb"),m=a("B43R"),d=a("uY3Z"),g=a("bP2Y");let h=(()=>{class e{constructor(e){this.httpService=e}authenticate(e){return this.httpService.httpRequest(d.a.authenticate,"post",e)}}return e.\u0275fac=function(t){return new(t||e)(f.Yb(g.a))},e.\u0275prov=f.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=a("/0IE"),y=a("1R7j");function w(e,t){if(1&e&&(f.Rb(0,"div",6),f.Nb(1,9),f.Qb()),2&e){const e=t.$implicit,a=f.dc();f.yb(1),f.ic("config",e)("group",a.formGroup)}}const S=[{path:"",component:(()=>{class e{constructor(e,t,a,i,s){this.router=e,this.modalService=t,this.translate=a,this.utilsService=i,this.loginService=s,this.formGroup=new r.f({}),this.assetsBasePath=n.a}ngOnInit(){this.translate.get(["pages.login.email","pages.login.password","form.validationErrors.mandatory","form.validationErrors.invalidEmail","general.OK","general.failed","pages.login.invalidCredentials"]).subscribe(e=>{this.translations=e,this.setUpForm(e)})}setUpForm(e){this.formConfig=[{type:"text",name:"username",label:e["pages.login.email"],placeholder:e["pages.login.email"],defaultValue:"jithinsuresh999@gmail.com",tabIndex:"0",validators:[Object.assign(Object.assign({},l.c.required),{validationMsg:e["form.validationErrors.mandatory"]}),Object.assign(Object.assign({},l.c.email),{validationMsg:e["form.validationErrors.invalidEmail"]})]},{type:"password",name:"password",label:e["pages.login.password"],placeholder:e["pages.login.password"],defaultValue:"Jithin@123",tabIndex:"1",validators:[Object.assign(Object.assign({},l.c.required),{validationMsg:e["form.validationErrors.mandatory"]})]}],this.formGroup=Object(l.d)(this.formConfig,this.formGroup)}authenticate(){if(this.formGroup.valid){const e={email:this.formGroup.get("username").value,password:this.formGroup.get("password").value};this.loginService.authenticate(e).subscribe(e=>{const t=function(e){let t;return e&&(t={accessToken:e.accessToken?e.accessToken:"",refreshToken:e.refreshToken?e.refreshToken:"",userData:{firstName:e.userData.first_name?e.userData.first_name:"",lastName:e.userData.last_name?e.userData.last_name:"",email:e.userData.email?e.userData.email:""}}),t}(e),a=t.userData;this.utilsService.setStorageValue(c.a,t.accessToken),this.utilsService.setStorageValue(c.d,t.refreshToken),this.utilsService.setStorageValue(c.f,JSON.stringify(a)),this.router.navigate([o.c])},e=>{const t=this.modalService.open(u.a,{centered:!0});t.componentInstance.config={type:"danger",title:this.translations["general.failed"],body:this.translations["pages.login.invalidCredentials"],buttons:{submit:{label:this.translations["general.OK"]}}},t.componentInstance.action.subscribe(e=>{t.close()})})}else this.formGroup=Object(l.f)(this.formGroup)}}return e.\u0275fac=function(t){return new(t||e)(f.Lb(s.b),f.Lb(p.h),f.Lb(b.e),f.Lb(m.a),f.Lb(h))},e.\u0275cmp=f.Fb({type:e,selectors:[["app-login"]],decls:10,vars:3,consts:[[1,"w-100","h-100","d-flex","flex-column","justify-content-center","align-items-center","login-container"],[3,"containerClass"],[1,"w-100","px-2","form-container"],["autocomplete","off",3,"formGroup"],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"d-flex","justify-content-center"],["type","button","translate","",1,"btn","btn-primary","tms-button",3,"click"],["appFormElement","",3,"config","group"]],template:function(e,t){1&e&&(f.Rb(0,"div",0),f.Mb(1,"app-logo",1),f.Rb(2,"div",2),f.Rb(3,"form",3),f.Rb(4,"div",4),f.wc(5,w,2,2,"div",5),f.Rb(6,"div",6),f.Rb(7,"div",7),f.Rb(8,"button",8),f.bc("click",function(){return t.authenticate()}),f.yc(9," pages.login.login "),f.Qb(),f.Qb(),f.Qb(),f.Qb(),f.Qb(),f.Qb(),f.Qb()),2&e&&(f.yb(1),f.ic("containerClass","login-page"),f.yb(2),f.ic("formGroup",t.formGroup),f.yb(2),f.ic("ngForOf",t.formConfig))},directives:[v.a,r.t,r.l,r.g,i.j,b.a,y.a],styles:[""]}),e})()}];let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.Jb({type:e}),e.\u0275inj=f.Ib({imports:[[s.e.forChild(S)],s.e]}),e})();var k=a("biST"),O=a("SIBA"),G=a("VqSJ");let R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.Jb({type:e}),e.\u0275inj=f.Ib({imports:[[i.b,b.c,j,k.a,O.a,G.a]]}),e})()}}]);
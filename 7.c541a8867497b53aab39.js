(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{nRHx:function(a,t,e){"use strict";e.r(t),e.d(t,"FormModule",function(){return v});var i=e("ofXK"),s=e("tyNb"),r=e("3Pt+"),o=e("SqtC"),n=e("xauc"),d=e("LdLR"),l=e("fXoL"),c=e("sYmb"),m=e("qfBg"),b=e("1R7j");function p(a,t){if(1&a&&(l.Rb(0,"div",8),l.Nb(1,9),l.Qb()),2&a){const a=t.$implicit,e=l.dc();l.yb(1),l.ic("config",a)("group",e.formGroup)}}const g=[{path:"",component:(()=>{class a{constructor(a,t,e,i){this.router=a,this.activatedRoute=t,this.translate=e,this.userService=i,this.formGroup=new r.f({}),this.editId=null}ngOnInit(){this.activatedRoute.paramMap.subscribe(a=>{this.editId=a.get("id")}),this.translate.get(["pages.admin.createUser","pages.admin.updateUser","pages.admin.firstName","pages.admin.lastName","pages.admin.confirmPassword","pages.login.email","pages.login.password","form.validationErrors.mandatory","form.validationErrors.invalid","form.validationErrors.invalidEmail"]).subscribe(a=>{this.editId?(this.title=a["pages.admin.updateUser"],this.getDetails(a)):(this.title=a["pages.admin.createUser"],this.setUpForm(a))})}getDetails(a){this.userService.getDetails(this.editId).subscribe(t=>{if(t&&t.data){const e=Object(d.c)(t.data);this.setUpForm(a,e)}else this.navigateToListingPage()})}setUpForm(a,t=null){this.formConfig=[{type:"text",name:"firstName",label:a["pages.admin.firstName"],placeholder:a["pages.admin.firstName"],defaultValue:t?t.firstName:"",tabIndex:"0",validators:[Object.assign(Object.assign({},n.c.required),{validationMsg:a["form.validationErrors.mandatory"]})]},{type:"text",name:"lastName",label:a["pages.admin.lastName"],placeholder:a["pages.admin.lastName"],defaultValue:t?t.lastName:"",tabIndex:"1",validators:[Object.assign(Object.assign({},n.c.required),{validationMsg:a["form.validationErrors.mandatory"]})]},{type:"text",name:"email",label:a["pages.login.email"],placeholder:a["pages.login.email"],defaultValue:t?t.email:"",tabIndex:"2",validators:[Object.assign(Object.assign({},n.c.required),{validationMsg:a["form.validationErrors.mandatory"]}),Object.assign(Object.assign({},n.c.email),{validationMsg:a["form.validationErrors.invalidEmail"]})]},{type:"password",name:"password",label:a["pages.login.password"],placeholder:a["pages.login.password"],tabIndex:"3",validators:this.editId?[]:[Object.assign(Object.assign({},n.c.required),{validationMsg:a["form.validationErrors.mandatory"]})]},{type:"password",name:"confirmPassword",label:a["pages.admin.confirmPassword"],placeholder:a["pages.admin.confirmPassword"],tabIndex:"4",validators:[{key:"equality",validator:Object(n.b)("password"),validationMsg:"Password and confirm password doesn't match"}]}],this.formGroup=Object(n.d)(this.formConfig,this.formGroup)}submit(){if(this.formGroup.valid){let a=Object(d.a)(this.formGroup.value);this.userService.addOrUpdateUser(a,this.editId).subscribe(a=>{this.navigateToListingPage()})}else this.formGroup=Object(n.f)(this.formGroup)}navigateToListingPage(){const a=[o.d,o.v,o.o].join("/");this.router.navigate([a])}}return a.\u0275fac=function(t){return new(t||a)(l.Lb(s.b),l.Lb(s.a),l.Lb(c.e),l.Lb(m.a))},a.\u0275cmp=l.Fb({type:a,selectors:[["app-form"]],decls:11,vars:2,consts:[[1,"w-100","h-100","d-flex","flex-column","align-items-center","form-container"],[1,"row"],[1,"col-12","py-4","text-center"],[1,"h4"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12","mt-4"],[1,"d-flex","justify-content-center"],["type","button","translate","",1,"btn","btn-primary","tms-button",3,"click"],[1,"col-12"],["appFormElement","",3,"config","group"]],template:function(a,t){1&a&&(l.Rb(0,"div",0),l.Rb(1,"div",1),l.Rb(2,"div",2),l.Rb(3,"p",3),l.yc(4),l.Qb(),l.Qb(),l.Qb(),l.Rb(5,"div",1),l.wc(6,p,2,2,"div",4),l.Rb(7,"div",5),l.Rb(8,"div",6),l.Rb(9,"button",7),l.bc("click",function(){return t.submit()}),l.yc(10," general.submit "),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb()),2&a&&(l.yb(4),l.zc(t.title),l.yb(2),l.ic("ngForOf",t.formConfig))},directives:[i.j,c.a,b.a],styles:[""]}),a})()}];let u=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=l.Jb({type:a}),a.\u0275inj=l.Ib({imports:[[s.e.forChild(g)],s.e]}),a})();var f=e("biST");let v=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=l.Jb({type:a}),a.\u0275inj=l.Ib({imports:[[i.b,c.c,u,f.a]]}),a})()}}]);